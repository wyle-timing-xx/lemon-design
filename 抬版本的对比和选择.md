在管理 npm 包 的版本时，选择合适的“抬版本方式（版本号更新方式）”对团队协作、发布节奏、语义化控制都非常关键。

本文从 *版本号控制方式* 和 *版本管理流程工具* 两个维度来梳理。

# 1. 版本号控制方式（语义化版本 Semantic Versioning）
npm 默认遵循 语义化版本规范 SemVer：
```
<major>.<minor>.<patch>
```

## 1.1 <major>.<minor>.<patch> 含义
| 版本位       | 名称   | 触发条件                       | 示例          | 应用场景              |
| :-------- | :--- | :------------------------- | :---------- | :---------------- |
| **MAJOR** | 主版本号 | 有不兼容的重大变更（breaking change） | 1.→2.0.0    | API 重构、移除旧功能、重大改动 |
| **MINOR** | 次版本号 | 向后兼容地增加新功能                 | 1.3.→1.4.0  | 新增功能、增强现有特性       |
| **PATCH** | 修订号  | 向后兼容地修复问题                  | 1.3.2→1.3.3 | bug 修复、小优化、文档更新   |

### 1.1.1 对应的版本号更新方式
- **MAJOR** 版本号更新：当你进行不兼容的 API 变更时，应该增加主版本号。
- **MINOR** 版本号更新：当你添加了向后兼容的新功能时，应该增加次版本号。
- **PATCH** 版本号更新：当你修复了向后兼容的问题时，应该增加修订号。

```bash
npm version patch    # 自动 +0.0.1
npm version minor    # 自动 +0.1.0
npm version major    # 自动 +1.0.0
```

这些命令会自动更新 `package.json` 中的版本号，并创建一个新的 Git 提交和标签（tag）。

## 1.2 预发布版本（Pre-release Versions）

在发布正式版本前测试、内测或灰度使用：

- 格式：`<major>.<minor>.<patch>-<pre-release-tag>`
- 示例：`1.3.0-beta.1`
- 作用：用于测试新功能或修复问题，不影响稳定版本的发布。
- 发布：当预发布版本测试通过后，应发布为稳定版本。

| 命令                                    | 示例                          | 场景                        |
| :------------------------------------ | :-------------------------- | :------------------------ |
| `npm version prerelease`              | `1.0.0 → 1.0.1-0`           | 快速生成测试版                   |
| `npm version prepatch`                | `1.0.0 → 1.0.1-0`           | 准备修复测试版                   |
| `npm version preminor`                | `1.0.0 → 1.1.0-0`           | 新功能内测版                    |
| `npm version premajor`                | `1.0.0 → 2.0.0-0`           | 大版本测试版                    |
| `npm version prerelease --preid=beta` | `1.0.1-0 → 1.0.1-beta.0`    | Beta 测试阶段发布               |
| `npm version prerelease --preid=rc`   | `1.0.1-beta.0 → 1.0.1-rc.0` | 发布候选版本（Release Candidate） |


# 2. 基于工具/流程的版本管理方式

## 2.1 手动控制（适合小团队/个人包）
这部分就纯手动操作，不建议使用。

- 手动修改 package.json
- 执行 npm publish
- 适用于：早期阶段、简单库、非团队协作
> 缺点：容易忘记改版本或不符合语义规范。

## 2.2 使用 npm version 命令
这部分就用 npm version 命令来操作，比较方便。

- 自动修改版本号
- 自动提交 commit & tag
- 可以结合 CI/CD 自动触发构建与发布
> 中小型项目，有简单的 Git 提交流程，但没有复杂发布流程。

## 2.3 使用 standard-version
- 自动升级版本号
- 自动打tag
- 自动生成changelog

### 2.3.1 命令
```bash
standard-version --release-as <major | minor | patch>
```

## 2.4 使用 semantic-release




